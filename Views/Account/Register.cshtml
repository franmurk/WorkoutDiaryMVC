@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="d-flex justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="card p-4 shadow-sm" style="width: 100%; max-width: 400px;">
        <h3 class="mb-4 text-center fw-bold">Register</h3>

        <form method="post">
            <div class="mb-3">
                <label class="form-label">Username</label>
                <input name="username" class="form-control" placeholder="Choose username" required />
            </div>

            <div class="mb-3">
                <label class="form-label">Password</label>
                <div class="input-group">
                    <input type="password" name="password" class="form-control" placeholder="Choose password" id="registerPassword" required />
                    <button class="btn btn-outline-secondary" type="button" id="toggleRegisterPassword">
                        
                        <svg id="registerEyeIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8z" />
                            <path d="M8 5.5A2.5 2.5 0 1 1 5.5 8 2.5 2.5 0 0 1 8 5.5z" />
                        </svg>
                    </button>
                </div>
            </div>


            @if (!ViewData.ModelState.IsValid)
            {
                <div class="text-danger mb-3">User already exists.</div>
            }

            <button class="btn btn-success w-100">Register</button>
        </form>

        <div class="mt-3 text-center">
            <small>Already registered? <a href="/Account/Login">Login</a></small>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        const toggleRegister = document.getElementById("toggleRegisterPassword");
        const registerPass = document.getElementById("registerPassword");

        const eye = `
            <svg id="registerEyeIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8z"/>
                <path d="M8 5.5A2.5 2.5 0 1 1 5.5 8 2.5 2.5 0 0 1 8 5.5z"/>
            </svg>`;

        const eyeSlash = `
            <svg id="registerEyeIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                <path d="M13.359 11.238l1.397 1.398a.75.75 0 1 1-1.06 1.06l-13-13a.75.75 0 0 1 1.06-1.06l2.121 2.121A8.725 8.725 0 0 1 8 2.5c5 0 8 5.5 8 5.5a13.133 13.133 0 0 1-2.641 3.238z"/>
                <path d="M5.88 6.758A2.5 2.5 0 0 0 8 10.5a2.5 2.5 0 0 0 2.12-4.242l-4.24-4.24z"/>
            </svg>`;

        if (toggleRegister) {
            toggleRegister.addEventListener("click", () => {
                const type = registerPass.type === "password" ? "text" : "password";
                registerPass.type = type;
                toggleRegister.innerHTML = type === "text" ? eyeSlash : eye;
            });
        }
    </script>
}

